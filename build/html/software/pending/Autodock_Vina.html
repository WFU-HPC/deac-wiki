
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Versions &#8212; DEAC Cluster Wiki  documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p><strong>AutoDock Vina</strong> is a new generation of docking software from the
Molecular Graphics Lab. It achieves significant improvements in the
average accuracy of the binding mode predictions, while also being up to
two orders of magnitude faster than <a class="reference external" href="Software:Autodock">AutoDock
4</a>.[1]</p>
<div class="section" id="versions">
<h1>Versions<a class="headerlink" href="#versions" title="Permalink to this headline">¶</a></h1>
<p>Installed on the cluster:</p>
<p>:* <strong>1.1.2</strong></p>
</div>
<div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<p>Load the module:</p>
<p><code class="docutils literal notranslate">&#160;&#160;&#160; <span class="pre">module</span> <span class="pre">load</span> <span class="pre">vina/1.1.2-intel-2012</span></code></p>
<p>The executables are:</p>
<ul class="simple">
<li><p>vina</p></li>
<li><p>vina_split</p></li>
</ul>
</div>
<div class="section" id="compiling">
<h1>Compiling<a class="headerlink" href="#compiling" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Note: the following procedures are still valid for intel-2017
compiler with boost-1.64.0, just change BOOST_VERSION variable
accordingly.</p></li>
</ul>
<p>AutoDock Vina depends on the <a class="reference external" href="Software:Boost">Boost C++
Libraries</a>.</p>
<p><code class="docutils literal notranslate">&#160;&#160;&#160; <span class="pre">module</span> <span class="pre">load</span> <span class="pre">boost/1.54.0-intel-2012</span></code>
<code class="docutils literal notranslate">&#160;&#160;&#160; <span class="pre">tar</span> <span class="pre">zxf</span> <span class="pre">autodock_vina_1_1_2.tgz</span></code>
<code class="docutils literal notranslate">&#160;&#160;&#160; <span class="pre">cd</span> <span class="pre">autodock_vina_1_1_2/build/linux/release</span></code>
<code class="docutils literal notranslate">&#160;&#160;&#160; </code></p>
<p>Edit source code. Patch
file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>diff -Naur autodock_vina_1_1_2/build/linux/release/Makefile autodock_vina_1_1_2-deac/build/linux/release/Makefile
--- autodock_vina_1_1_2/build/linux/release/Makefile    2011-05-11 16:35:13.000000000 -0400
+++ autodock_vina_1_1_2-deac/build/linux/release/Makefile   2013-07-17 12:06:25.003557000 -0400
@@ -1,9 +1,9 @@
-BASE=/usr/local
-BOOST_VERSION=1_41
-BOOST_INCLUDE = $(BASE)/include
-C_PLATFORM=-static -pthread
-GPP=/usr/local/bin/g++
-C_OPTIONS= -O3 -DNDEBUG
+BASE=$(BOOST_DIR)
+BOOST_VERSION=1_54
+BOOST_INCLUDE = $(BOOST_INCDIR)
+C_PLATFORM=-pthread
+GPP=icpc
+C_OPTIONS= -O3 -xSSE4.1 -ipo
 BOOST_LIB_VERSION=

 include ../../makefile_common
diff -Naur autodock_vina_1_1_2/build/makefile_common autodock_vina_1_1_2-deac/build/makefile_common
--- autodock_vina_1_1_2/build/makefile_common   2011-05-11 16:35:13.000000000 -0400
+++ autodock_vina_1_1_2-deac/build/makefile_common  2013-07-17 12:10:30.716675000 -0400
@@ -2,15 +2,15 @@
 MAINOBJ = main.o
 SPLITOBJ = split.o

-INCFLAGS = -I $(BOOST_INCLUDE)
+INCFLAGS = -I$(BOOST_INCLUDE)

 # -pedantic fails on Mac with Boost 1.41 (syntax problems in their headers)
 #CC = ${GPP} ${C_PLATFORM} -ansi -pedantic -Wno-long-long ${C_OPTIONS} $(INCFLAGS)
-CC = ${GPP} ${C_PLATFORM} -ansi -Wno-long-long ${C_OPTIONS} $(INCFLAGS)
+CC = ${GPP} ${C_PLATFORM} -ansi ${C_OPTIONS} $(INCFLAGS)

-LDFLAGS = -L$(BASE)/lib -L.
+LDFLAGS = -L$(BASE)/lib -Wl,-rpath,$(BASE)/lib -Wl,-rpath,.

-LIBS = -l boost_system${BOOST_LIB_VERSION} -l boost_thread${BOOST_LIB_VERSION} -l boost_serialization${BOOST_LIB_VERSION} -l boost_filesystem${BOOST_LIB_VERSION} -l boost_program_options${BOOST_LIB_VERSION}#-l pthread
+LIBS = -lboost_system${BOOST_LIB_VERSION} -lboost_thread${BOOST_LIB_VERSION} -lboost_serialization${BOOST_LIB_VERSION} -lboost_filesystem${BOOST_LIB_VERSION} -lboost_program_options${BOOST_LIB_VERSION}#-l pthread

 .SUFFIXES: .cpp .o

diff -Naur autodock_vina_1_1_2/src/lib/quaternion.cpp autodock_vina_1_1_2-deac/src/lib/quaternion.cpp
--- autodock_vina_1_1_2/src/lib/quaternion.cpp  2011-05-11 16:35:00.000000000 -0400
+++ autodock_vina_1_1_2-deac/src/lib/quaternion.cpp 2013-07-17 11:55:10.980025000 -0400
@@ -22,6 +22,10 @@

 #include &quot;quaternion.h&quot;

+fl quaternion_norm_sqr(const qt&amp; q) { // equivalent to sqr(boost::math::abs(const qt&amp;))
+   return sqr(q.R_component_1()) + sqr(q.R_component_2()) + sqr(q.R_component_3()) + sqr(q.R_component_4());
+}
+
 bool quaternion_is_normalized(const qt&amp; q) { // not in the interface, used in assertions
    return eq(quaternion_norm_sqr(q), 1) &amp;&amp; eq(boost::math::abs(q), 1);
 }
diff -Naur autodock_vina_1_1_2/src/lib/quaternion.h autodock_vina_1_1_2-deac/src/lib/quaternion.h
--- autodock_vina_1_1_2/src/lib/quaternion.h    2011-05-11 16:35:00.000000000 -0400
+++ autodock_vina_1_1_2-deac/src/lib/quaternion.h   2013-07-17 11:51:52.383029000 -0400
@@ -31,6 +31,9 @@

 typedef boost::math::quaternion&lt;fl&gt; qt;

+fl quaternion_norm_sqr(const qt&amp; q);
+bool quaternion_is_normalized(const qt&amp; q);
+
 // non-intrusive free function split serialization
 namespace boost {
    namespace serialization {
@@ -66,10 +69,6 @@
 vec quaternion_to_angle(const qt&amp; q);
 mat quaternion_to_r3(const qt&amp; q);

-inline fl quaternion_norm_sqr(const qt&amp; q) { // equivalent to sqr(boost::math::abs(const qt&amp;))
-   return sqr(q.R_component_1()) + sqr(q.R_component_2()) + sqr(q.R_component_3()) + sqr(q.R_component_4());
-}
-
 inline void quaternion_normalize(qt&amp; q) {
    const fl s = quaternion_norm_sqr(q);
    assert(eq(s, sqr(boost::math::abs(q))));
diff -Naur autodock_vina_1_1_2/src/main/main.cpp autodock_vina_1_1_2-deac/src/main/main.cpp
--- autodock_vina_1_1_2/src/main/main.cpp   2011-05-11 16:35:00.000000000 -0400
+++ autodock_vina_1_1_2-deac/src/main/main.cpp  2013-07-17 11:42:37.215905048 -0400
@@ -47,7 +47,8 @@
 using boost::filesystem::path;

 path make_path(const std::string&amp; str) {
-   return path(str, boost::filesystem::native);
+   //return path(str, boost::filesystem::native);
+   return path(str);
 }

 void doing(int verbosity, const std::string&amp; str, tee&amp; log) {
@@ -661,7 +662,7 @@
                    cpu, seed, verbosity, max_modes_sz, energy_range, log);
    }
    catch(file_error&amp; e) {
-       std::cerr &lt;&lt; &quot;\n\nError: could not open \&quot;&quot; &lt;&lt; e.name.native_file_string() &lt;&lt; &quot;\&quot; for &quot; &lt;&lt; (e.in ? &quot;reading&quot; : &quot;writing&quot;) &lt;&lt; &quot;.\n&quot;;
+       std::cerr &lt;&lt; &quot;\n\nError: could not open \&quot;&quot; &lt;&lt; e.name.native() &lt;&lt; &quot;\&quot; for &quot; &lt;&lt; (e.in ? &quot;reading&quot; : &quot;writing&quot;) &lt;&lt; &quot;.\n&quot;;
        return 1;
    }
    catch(boost::filesystem::filesystem_error&amp; e) {
@@ -673,7 +674,7 @@
        return 1;
    }
    catch(parse_error&amp; e) {
-       std::cerr &lt;&lt; &quot;\n\nParse error on line &quot; &lt;&lt; e.line &lt;&lt; &quot; in file \&quot;&quot; &lt;&lt; e.file.native_file_string() &lt;&lt; &quot;\&quot;: &quot; &lt;&lt; e.reason &lt;&lt; &#39;\n&#39;;
+       std::cerr &lt;&lt; &quot;\n\nParse error on line &quot; &lt;&lt; e.line &lt;&lt; &quot; in file \&quot;&quot; &lt;&lt; e.file.native() &lt;&lt; &quot;\&quot;: &quot; &lt;&lt; e.reason &lt;&lt; &#39;\n&#39;;
        return 1;
    }
    catch(std::bad_alloc&amp;) {
diff -Naur autodock_vina_1_1_2/src/split/split.cpp autodock_vina_1_1_2-deac/src/split/split.cpp
--- autodock_vina_1_1_2/src/split/split.cpp 2011-05-11 16:35:00.000000000 -0400
+++ autodock_vina_1_1_2-deac/src/split/split.cpp    2013-07-17 11:59:51.386107000 -0400
@@ -38,7 +38,8 @@
 using boost::filesystem::path;

 path make_path(const std::string&amp; str) {
-   return path(str, boost::filesystem::native);
+   //return path(str, boost::filesystem::native);
+   return path(str);
 }

 std::string default_prefix(const std::string&amp; input_name, const std::string&amp; add) {
@@ -208,7 +209,7 @@
        write_multimodel_pdbqt(tmp, ligand_prefix, flex_prefix);
    }
    catch(file_error&amp; e) {
-       std::cerr &lt;&lt; &quot;\n\nError: could not open \&quot;&quot; &lt;&lt; e.name.native_file_string() &lt;&lt; &quot;\&quot; for &quot; &lt;&lt; (e.in ? &quot;reading&quot; : &quot;writing&quot;) &lt;&lt; &quot;.\n&quot;;
+       std::cerr &lt;&lt; &quot;\n\nError: could not open \&quot;&quot; &lt;&lt; e.name.native() &lt;&lt; &quot;\&quot; for &quot; &lt;&lt; (e.in ? &quot;reading&quot; : &quot;writing&quot;) &lt;&lt; &quot;.\n&quot;;
        return 1;
    }
    catch(boost::filesystem::filesystem_error&amp; e) {
@@ -220,7 +221,7 @@
        return 1;
    }
    catch(parse_error&amp; e) {
-       std::cerr &lt;&lt; &quot;\n\nParse error on line &quot; &lt;&lt; e.line &lt;&lt; &quot; in file \&quot;&quot; &lt;&lt; e.file.native_file_string() &lt;&lt; &quot;\&quot;: &quot; &lt;&lt; e.reason &lt;&lt; &#39;\n&#39;;
+       std::cerr &lt;&lt; &quot;\n\nParse error on line &quot; &lt;&lt; e.line &lt;&lt; &quot; in file \&quot;&quot; &lt;&lt; e.file.native() &lt;&lt; &quot;\&quot;: &quot; &lt;&lt; e.reason &lt;&lt; &#39;\n&#39;;
        return 1;
    }
    catch(std::bad_alloc&amp;) {
</pre></div>
</div>
</div>
<div class="section" id="references">
<h1>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h1>
<references/><p><a class="reference external" href="Category:Software">Category:Software</a>
<a class="reference external" href="Category:Compiling">Category:Compiling</a></p>
<ol class="simple">
<li><p><a class="reference external" href="http://vina.scripps.edu/">AutoDock Vina Web Site</a></p></li>
</ol>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">DEAC Cluster Wiki</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Adam Carlson, Cody Stevens, Sean Anderson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/software/pending/Autodock_Vina.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>