
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Perl Oneliners &#8212; DEAC Cluster Wiki  documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>This article is not intended to teach you how to use Perl. Rather, it
provides tips, tricks and information.</p>
<div class="section" id="perl-oneliners">
<h1>Perl Oneliners<a class="headerlink" href="#perl-oneliners" title="Permalink to this headline">¶</a></h1>
<p>Most useful for least amount of code/knowledge</p>
<p>‘’’perl -p -i -e ‘s/foo/bar/g’ * ‘’’ Replaces foo with bar in every
file in your current directory.</p>
</div>
<div class="section" id="perl-philosophy">
<h1>Perl Philosophy<a class="headerlink" href="#perl-philosophy" title="Permalink to this headline">¶</a></h1>
<p>In general Perl is a permissive language, and the Perl motto is “There
is more than one way to do it”. As a consequence perl code can be easy
to write, but sometimes hard to read, as you may know 3 ways to do
something, but not recognize the way that someone else used. In general,
knowing enough about perl to guess what the program is doing+decent
comments+a good a search engine should make unraveling someone else’s
work not too bad. The goal of this page is to teach you enough to get by
and to introduce you to a few examples.</p>
</div>
<div class="section" id="data-types">
<h1>Data Types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h1>
<p>Perl has two primary data types, scalars and arrays. It has others, but
they’re more complicated and less important. Data types in perl are
always easy to recognize because they always wear a nametag called a
sigil. For $calars the sigil is $ and for &#64;rrays the sigil is &#64;. So if
you see a perl variable that begins with a $, it’s a scalar, and
similarly if it starts with &#64; it’s an array.</p>
<p>| Scalars    | Arrays |
| ———- | —— |
| $a         | &#64;a     |
| $dir[$i] | &#64;fred  |</p>
<p>You can have a scalar $a and an array &#64;a that have no relationship to
each other. It may confuse humans, but it won’t confuse perl. If your
code is not intended to be read or used by humans, then this naming
scheme is acceptable, otherwise try and name your variables less
cryptically.</p>
</div>
<div class="section" id="file-i-o">
<h1>File I/O<a class="headerlink" href="#file-i-o" title="Permalink to this headline">¶</a></h1>
<p>open files with <strong>open FILEHANDLE, “operation”, “filename”;</strong> (i.e. open
POSITION, “&lt;”, “positions.txt” would open a file positions.txt for
reading, and I would use the handle POSITION to refer to that file in my
own code)</p>
<p><strong>&#64;lines=<POSITION></strong> would then save each line of the file
positions.txt to an element in the array &#64;lines.</p>
<p>To write to a file, use ‘’’open OUTPUT, “&gt;”, newpositions.txt;
print OUTPUT “This will get printed into newpositions.txt” ‘’’</p>
</div>
<div class="section" id="regular-expressions">
<h1>Regular expressions<a class="headerlink" href="#regular-expressions" title="Permalink to this headline">¶</a></h1>
<p>Much of the power of perl comes from it’s regular expression engine.
Regular expressions are a fancy way of allowing perl to look for
patterns in text files.</p>
<p>Regular expressions allow you to find and/or replace given patterns in a
file. This is great for extracting one or more desired final properties
out of an output file produced by some code. It’s also useful for
setting up approximately the same, but slightly different input files.</p>
<p>There are two basic operations match, and substitute: $string =~
m/sought_text/; $string =~ s/sought_text/text_to_replace_it_with/;</p>
<p>The text you’re seeking doesn’t have to be completely literal, and can
be represented with wildcards, some of which are shown here</p>
<p>Wildcards</p>
<ul class="simple">
<li><p>. Match any character</p></li>
<li><p>\w Match “word” character (alphanumeric plus “_”)</p></li>
<li><p>\W Match non-word character</p></li>
<li><p>\s Match whitespace character</p></li>
<li><p>\S Match non-whitespace character</p></li>
<li><p>\d Match digit character</p></li>
<li><p>\D Match non-digit character</p></li>
<li><p>\t Match tab</p></li>
<li><p>\n Match newline</p></li>
</ul>
<p>Quantifiers</p>
<ul class="simple">
<li><p>* Match 0 or more times</p></li>
<li><p>+ Match 1 or more times</p></li>
<li><p>? Match 1 or 0 times</p></li>
<li><p>{n} Match exactly n times</p></li>
<li><p>{n,} Match at least n times</p></li>
<li><p>{n,m} Match at least n but not more than m times</p></li>
</ul>
<p>More on regular
expressions.<a class="reference external" href="http://www.troubleshooters.com/codecorn/littperl/perlreg.htm">1</a></p>
</div>
<div class="section" id="perl-linux">
<h1>Perl + linux<a class="headerlink" href="#perl-linux" title="Permalink to this headline">¶</a></h1>
<p>Perl also plays very nicely with linux/unix environments. System
commands can be run using either system(“do something”) or by enclosing
the command in backticks. If you wanted to store all the filenames in
your current directory, you could just type <strong>&#64;files=`ls`</strong>.
A point of warning, system(“ “) and `` will in general start a new
subshell each time you invoke them. So system(cd ../../); system(ls);
won’t give you the files from two directories up, it will give you the
files from the directory you ran the script in. Use system(“cd ../../;
ls”) to get the files from two directories up.</p>
</div>
<div class="section" id="pragmas">
<h1>Pragmas<a class="headerlink" href="#pragmas" title="Permalink to this headline">¶</a></h1>
<p>You can modify the behavior of your perl script by invoking various
pragmas. In practice, <strong>use warnings</strong> gives better error messages and
<strong>use strict</strong> will force you to follow some slightly better programming
habits (useful for long codes/anything that has to be maintained). A
more complete list of pragmas and their descriptions is available
online. <a class="reference external" href="http://perldoc.perl.org/index-pragmas.html">2</a></p>
</div>
<div class="section" id="cpan">
<h1>CPAN<a class="headerlink" href="#cpan" title="Permalink to this headline">¶</a></h1>
<p>One of the nice things about perl is its ability to be extended by
modules. These modules can be downloaded and installed via a module
called CPAN.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>In order to set up your own local version of cpan, download the
source (currently available at
<a class="reference external" href="http://search.cpan.org/~andk/CPAN-1.9800/lib/CPAN.pm">http://search.cpan.org/~andk/CPAN-1.9800/lib/CPAN.pm</a>).</p></li>
<li><p>Untar/unzip it,</p></li>
<li><p>cd into the resulting directory</p></li>
<li><p>issue the command <strong>perl Makefile.PL PREFIX=${HOME}/perl5
LIB=${HOME}/perl5</strong>.</p></li>
<li><p>Now for bash-like shells use:</p></li>
</ul>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cat &gt;&gt; ${HOME}/.bashrc &lt;&lt; EOF
export PERL_LOCAL_LIB_ROOT=${HOME}/perl5
export PERL_MB_OPT=&quot;--install_base ${HOME}/perl5&quot;
export PERL_MM_OPT=&quot;INSTALL_BASE=${HOME}/perl5&quot;
export PERL5LIB=${HOME}/perl5/lib/x86_64-linux-thread-multi:${HOME}/perl5/lib/perl5:${PERL5LIB}
export PATH=${HOME}/perl5/bin:${PATH}
EOF
</pre></div>
</div>
</div></blockquote>
<p>:* The syntax will be slightly different (change export to setenv) for
tcsh/csh derived shells.</p>
<ul class="simple">
<li><p>Source your .bashrc file with the command <strong>source ~/.bashrc</strong></p></li>
<li><p>Now open cpan by typing <strong>cpan</strong>.</p></li>
</ul>
<!-- end list --><ul class="simple">
<li><p>When it asks what configuration you want choose local::lib, which
will install your modules in the ~/perl5 directory and link to them
automagically.</p></li>
</ul>
<p>Include modules in your perl scripts by putting use ModuleName at the
beginning of your script. (i.e. use PDL to add matlab-like functionality
to perl).</p>
<p><a class="reference external" href="Category:Software">Category:Software</a>
<a class="reference external" href="Category:Languages">Category:Languages</a></p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">DEAC Cluster Wiki</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Adam Carlson, Cody Stevens, Sean Anderson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/software/pending/Perl.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>