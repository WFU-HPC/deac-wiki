
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>How to Use &#8212; DEAC Cluster Wiki  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>The <strong>Intel® Cluster Studio XE 2012</strong>[1] is a suite of compilers,
optimized math libraries (including BLAS, LAPACK, and some FFTW2/3), and
MPI2 implementation. Also included are a debugger, and analysis and
profiling tools.</p>
<div class="section" id="how-to-use">
<h1>How to Use<a class="headerlink" href="#how-to-use" title="Permalink to this headline">¶</a></h1>
<p>There are two “flavors” of the compiler suite: one with 32-bit ints
(called “lp64” [that’s an ell]) and one with 64-bit ints (called
“ilp64”). In most cases, the lp64 flavor is recommended. Your
application may have a special requirement for 64-bit ints, in which
case you would use ilp64. To use them, <a class="reference external" href="Quick_Start_Guide:Environment_Modules">load the appropriate
module</a>
with:</p>
<p><code class="docutils literal notranslate">&#160;&#160; <span class="pre">$</span> <span class="pre">module</span> <span class="pre">load</span></code><em><code class="docutils literal notranslate"><span class="pre">modulename</span></code></em>
<code class="docutils literal notranslate">&#160;&#160; <span class="pre">where</span></code><em><code class="docutils literal notranslate"><span class="pre">modulename</span></code></em><code class="docutils literal notranslate"> <span class="pre">is</span> <span class="pre">one</span> <span class="pre">of</span> <span class="pre">these</span> <span class="pre">two:</span> <span class="pre">compilers/intel-2012-lp64,</span> <span class="pre">compilers/intel-2012-ilp64</span></code></p>
<p>This sets many environment variables required for using all the
components of the compiler suite.</p>
<p>Before running the compiled program, the same module environment must be
in effect. When writing a job script, the “module load <em>modulename</em>”
line should be included in the script before the program is invoked.</p>
</div>
<div class="section" id="component-products">
<h1>Component Products<a class="headerlink" href="#component-products" title="Permalink to this headline">¶</a></h1>
<p>The Cluster Studio is a suite of products[2]:</p>
<ul class="simple">
<li><p>C/C++ compilers (icc, icpc)</p></li>
<li><p>Fortran 77/95 compiler (ifort)</p></li>
<li><p>Intel Cilk Plus - concurrent and parallel programming language</p></li>
<li><p>Debugger (idb)</p></li>
<li><p>Integrated Performance Primitives (IPP) - a library of
multicore-ready functions for data analysis and communication</p></li>
<li><p>Math Kernel Library (MKL) 10.3 - includes BLAS, LAPACK, ScaLAPACK1,
interfaces for FFTW2/3, etc.</p></li>
<li><p>Threading Building Blocks</p></li>
<li><p>Intel MPI Library</p></li>
<li><p>Intel Inspector XE</p></li>
<li><p>Intel VTune Amplifier XE</p></li>
<li><p>Intel Trace Analyzer and Collector</p></li>
</ul>
</div>
<div class="section" id="using-the-math-kernel-library-mkl-and-mpi">
<h1>Using the Math Kernel Library (MKL) and MPI<a class="headerlink" href="#using-the-math-kernel-library-mkl-and-mpi" title="Permalink to this headline">¶</a></h1>
<div class="section" id="mkl">
<h2>MKL<a class="headerlink" href="#mkl" title="Permalink to this headline">¶</a></h2>
<p>One of the advantages of using the Intel suite is that it includes
highly optimized numerical routines. The MKL (version 10.3 is installed)
provides BLAS, LAPACK, ScaLAPACK1, and interfaces to FFTW2/3.
Unfortunately, using the MKL is fairly complex.</p>
<p>To link to the MKL, and possibly other components of the compiler suite,
the link line must be obtained from the <a class="reference external" href="http://software.intel.com/en-us/articles/intel-mkl-link-line-advisor/">Intel MKL Link Line
Advisor</a>
a web application. You provide the following inputs;</p>
<ul class="simple">
<li><p>Intel Product: Intel(R) MKL 10.3</p></li>
<li><p>OS: Linux</p></li>
<li><p>Processor architecture: Intel(R) 64</p></li>
<li><p>Compiler: (select the one you are using)</p></li>
<li><p>Dynamic or static linking: of the three choices provided, “Single
Dynamic Library” results in the least complex link line – it leaves
some decisions about sequential versus multi-threaded execution to
run time. However, this precludes use of MPI. If your application
needs MPI, you must select “Dynamic Library”.</p></li>
<li><p>Interface layer: generally, LP64 (32-bit integers) should be used;
your application may require ILP64 (64-bit ints)</p></li>
<li><p>OpenMP Library: Intel(R) (libiomp5) – there is no choice</p></li>
<li><p>Cluster library: select one or more; MPI programs will require BLACS
(Basic Linear Algebra Communication Subprograms)</p></li>
<li><p>MPI library: Intel(R) MPI – instead of a pre-installed MPICH</p></li>
<li><p>Fortran95 interfaces: select BLAS and/or LAPACK if applicable</p></li>
<li><p>Link with MKL libraries explicitly: check ON</p></li>
</ul>
<p>The output at the bottom of the page gives you a link line (all the
-Ldir and -lbar), and a compile flag specifying the directory where
include files reside. Copy them and paste into the appropriate portions
of your Makefile.</p>
</div>
<div class="section" id="intel-mpi">
<h2>Intel MPI<a class="headerlink" href="#intel-mpi" title="Permalink to this headline">¶</a></h2>
<p>Do not use Intel’s MPI implementation. We have found that it does not
work correctly. Use Open MPI 1.6 – load the “openmpi/1.6-intel” module.
See <a class="reference external" href="Quick_Start_Guide:GNU_OpenMPI">Quick Start Guide:GNU
OpenMPI</a>.</p>
</div>
</div>
<div class="section" id="running-programs-compiled-with-intel">
<h1>Running Programs compiled with Intel<a class="headerlink" href="#running-programs-compiled-with-intel" title="Permalink to this headline">¶</a></h1>
<p>Programs compiled with the Intel compilers need certain environment
variables set in order to run. These specify, amongst other things, the
location of dynamic libraries. Before running a program, run the same
“module load” command that was used to select the Intel compiler. In job
scripts, the “module load” command should come before the program
invocation.</p>
</div>
<div class="section" id="integrated-development-environment">
<h1>Integrated Development Environment<a class="headerlink" href="#integrated-development-environment" title="Permalink to this headline">¶</a></h1>
<p>The Intel Cluster Studio XE may be used with
<a class="reference external" href="http://www.eclipse.org">Eclipse</a>, an open source integrated development
environment. Eclipse is a <a class="reference external" href="http://java.oracle.com/">Java</a> program. To
use the Intel compiler suite and toolchain within Eclipse, use Eclipse’s
<a class="reference external" href="http://www.eclipse.org/cdt/">C/C++ Development Tooling (CDT)</a>. We do
not support Eclipse: it may be installed in your own directory.</p>
</div>
<div class="section" id="typical-optimization-options">
<h1>Typical Optimization Options<a class="headerlink" href="#typical-optimization-options" title="Permalink to this headline">¶</a></h1>
<p>Here are some typical options used to control the optimization used when
producing compiled code:</p>
<ul class="simple">
<li><p>-O3: optimize for maximum speed and enable more aggressive
optimizations that may not improve performance on some programs</p></li>
<li><p>-xSSE4.1: May generate Intel(R) SSE4.1 instructions for Intel
processors. Optimizes for the Intel NetBurst(R) microarchitecture.
All cluster nodes, except for those in clan06, support SSE4.1. Nodes
which support SSE4.2 will also support SSE4.1 (i.e. SSE is
backwards-compatible).</p></li>
<li><p>-no-prec-div: do <em>not</em> improve precision of floating-point divides</p></li>
<li><p>-mieee-fp: improve floating-point precision (impacts speed)</p></li>
<li><p>-openmp: links to OpenMP[3] library. N.B. this is <em>not</em> MPI or
MPI-2.</p></li>
</ul>
<p>For each compiler, you can see a long listing of available options and
flags by doing:</p>
<p><code class="docutils literal notranslate">&#160;&#160;&#160; <span class="pre">$</span> <span class="pre">ifort</span> <span class="pre">-help</span> <span class="pre">|</span> <span class="pre">less</span></code></p>
<p>(hit “Space” to advance, “B” to scroll back up, and “Q” to quit the
pager).</p>
<p><strong>N.B.</strong> The option <code class="docutils literal notranslate"><span class="pre">-fast</span></code> produces code for static linking only. This
will not work for MPI programs. See the compiler help for more details.</p>
</div>
<div class="section" id="further-information">
<h1>Further Information<a class="headerlink" href="#further-information" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference external" href="http://software.intel.com/en-us/articles/intel-learning-lab/">Intel Learning Lab
Portal</a></p>
<ul>
<li><p>resources for learning how to use Intel software products</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://software.intel.com/en-us/articles/intel-cluster-toolkit-documentation/">Intel Cluster Studio
documentation</a></p></li>
<li><p><a class="reference external" href="http://software.intel.com/en-us/articles/intel-cluster-studio-xe/#resources">Resources for learning more about Intel Cluster
Studio</a>
(includes links to PDF documents for each of the compiler
components)</p></li>
</ul>
</div>
<div class="section" id="references">
<h1>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h1>
<references/><p><a class="reference external" href="Category:Compiling">Category:Compiling</a></p>
<ol class="simple">
<li><p><a class="reference external" href="http://software.intel.com/en-us/articles/intel-cluster-studio-xe/">Intel® Cluster Studio
XE</a>
(Retrieved 2012-03-28.)</p></li>
<li><p><a class="reference external" href="http://en.wikipedia.org/wiki/OpenMP">OpenMP article at Wikipedia</a></p></li>
</ol>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">DEAC Cluster Wiki</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Adam Carlson, Cody Stevens, Sean Anderson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/compilers/Intel_Cluster_Studio.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>